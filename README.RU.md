# –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ —Ñ–∏–ª—å–º–æ–≤ —Å –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞ –Ω–∞ IMDb

[![In English](https://img.shields.io/badge/Switch_To-English-green.svg?style=flat-square)](./README.md)

–≠—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Go –ø–æ–º–æ–∂–µ—Ç –ø–æ—ç—Ç–∞–ø–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–ø–∏—Å–∫–∏ —Ñ–∏–ª—å–º–æ–≤ —Å —Å–∞–π—Ç–∞ [–ö–∏–Ω–æ–ü–æ–∏—Å–∫](https://www.kinopoisk.ru) –Ω–∞ —Å–∞–π—Ç [IMDb](https://www.imdb.com).

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.24+
- –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è Go, —á—Ç–æ–±—ã –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω—É–∂–Ω—ã–µ —ç—Ç–∞–ø—ã
- Cookie-–¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞ –∏ IMDb

## üìÅ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω—É–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ **–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã** –≤ `main.go` —Å–≤–æ–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞            | –û–ø–∏—Å–∞–Ω–∏–µ                                        |
|----------------------|-------------------------------------------------|
| `readCsv`            | –ü—É—Ç—å –∫ CSV-—Ñ–∞–π–ª—É, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ —á–∏—Ç–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ   |
| `writeCsv`           | –ü—É—Ç—å –∫ CSV-—Ñ–∞–π–ª—É, –≤ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ |
| `KpCookieYaSessId`   | Cookie `ya-sess-id` –∏–∑ –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞               |
| `KpWatchListId`      | ID —Å–ø–∏—Å–∫–∞ ¬´–ù–∞–π—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ¬ª                   |
| `KpFavoriteListId`   | ID —Å–ø–∏—Å–∫–∞ ¬´–õ—é–±–∏–º—ã–µ —Ñ–∏–ª—å–º—ã¬ª                      |
| `ImdbCookieAtMain`   | Cookie `at-main` –∏–∑ IMDb                        |
| `ImdbCookieUbidMain` | Cookie `ubid-main` –∏–∑ IMDb                      |
| `ImdbCheckInListId`  | ID —Å–ø–∏—Å–∫–∞ check-in –Ω–∞ IMDb                      |
| `ImdbFavoriteListId` | ID —Å–ø–∏—Å–∫–∞ –ª—é–±–∏–º—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ IMDb               |

## üß† –≠—Ç–∞–ø—ã —Ä–∞–±–æ—Ç—ã

–ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–≤ –µ—ë –≤ `main()`.

### 1. –°–±–æ—Ä —Ñ–∏–ª—å–º–æ–≤ —Å –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞

#### `kpListParser()`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞ –ø–æ ID —Å–ø–∏—Å–∫–æ–≤ (`KpWatchListId`, `KpFavoriteListId`) –∏ –ø–∞—Ä—Å–∏—Ç:

- –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞
- –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
- –õ–∏—á–Ω—É—é –æ—Ü–µ–Ω–∫—É

–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫—É–∫–∞ `ya-sess-id`.

#### `kpWatchedListParser()`

–†–∞–±–æ—Ç–∞–µ—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ HTML-—Ñ–∞–π–ª–∞–º–∏, —Å–∫–∞—á–∞–Ω–Ω—ã–º–∏ –≤—Ä—É—á–Ω—É—é:

1. –ó–∞–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ –ö–∏–Ω–æ–ü–æ–∏—Å–∫–µ.
2. –°–∫–∞—á–∞–π—Ç–µ –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å–ø–∏—Å–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HTML:
   - –ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ ‚Üí "–í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞, —Ç–æ–ª—å–∫–æ HTML"
   - –ù–∞–∑–æ–≤–∏—Ç–µ —Ñ–∞–π–ª—ã –ø–æ –Ω–æ–º–µ—Ä—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `1.html`, `2.html`, `3.html` –∏ —Ç.–¥.
3. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `pages` —Ä—è–¥–æ–º —Å `main.go`.
4. –ó–∞—Ç–µ–º –≤—ã–∑–æ–≤–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `kpWatchedListParser()`.

### 2. –ú–∞–ø–ø–∏–Ω–≥ —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ IMDb

#### `imdbMapping()`

- –ß–∏—Ç–∞–µ—Ç CSV-—Ñ–∞–π–ª –∏–∑ `readCsv`
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ñ–∏–ª—å–º–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –≥–æ–¥—É
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `writeCsv`, –¥–æ–±–∞–≤–ª—è—è:
   - IMDb ID
   - –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ IMDb
   - –ì–æ–¥ –Ω–∞ IMDb

> ‚ö†Ô∏è –ü—Ä–∏–º–µ—Ä–Ω–æ 5% —Ñ–∏–ª—å–º–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–ª–∏ –Ω–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤–æ–≤—Å–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `writeCsv` –≤—Ä—É—á–Ω—É—é.

#### `showDuplicates()`

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã IMDb ID –≤ `readCsv`, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –æ—à–∏–±–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞.

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–æ–≤ –Ω–∞ IMDb

#### `addFilmToImdbList(listId string, startRow int)`

–î–æ–±–∞–≤–ª—è–µ—Ç —Ñ–∏–ª—å–º—ã –∏–∑ `readCsv` –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ IMDb. –ï—Å–ª–∏ IMDb ID –ø—É—Å—Ç–æ–π ‚Äî —Ñ–∏–ª—å–º –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è. –ê—Ä–≥—É–º–µ–Ω—Ç `startRow` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ—Ä–≤–∞–ª—Å—è.

#### `addFilmToImdbWatchList(startRow int)`

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π, –Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ Watchlist.

#### `rateFilmToImdb()`

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ—Ü–µ–Ω–∫–∏ –Ω–∞ IMDb, –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å –≤ `readCsv` (–≤–∑—è—Ç—ã–µ –∏–∑ –ö–∏–Ω–æ–ü–æ–∏—Å–∫–∞).

## ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

- –¢–æ—á–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ ‚Äî –æ–∫–æ–ª–æ 95%.
- –†—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ `writeCsv` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ—à–∏–±–æ–∫.
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ cookie –∏ ID —Å–ø–∏—Å–∫–æ–≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã –∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã.

## üì¶ –ó–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```shell
   go mod tidy
   ```
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω—É–∂–Ω—ã–π —ç—Ç–∞–ø, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤ main().
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```shell
   go run main.go
   ```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

[![license](https://img.shields.io/badge/License-MIT-green.svg?style=flat-square)](./LICENSE)
